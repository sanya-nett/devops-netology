## 3.2. Работа в терминале, лекция 2

1 - Какого типа команда `cd`?  
__Result__: `cd is a shell builtin`  
Другого типа не может быть т.к. эта функция меняет только директорию внутри сессии

2 - Какая альтернатива без pipe команде `grep <some_string> <some_file> | wc -l`?  
__Result__: `grep -c <some_string> <some_file>`

3 - Какой процесс с PID 1 является родителем для всех процессов в вашей виртуальной машине Ubuntu 20.04?  
__Result__: `systemd`

4 - Как будет выглядеть команда, которая перенаправит вывод stderr ls на другую сессию терминала?  
__Result__: `ls  2>/proc/<PID другой bash сессии>/fd/1`

5 - Получится ли одновременно передать команде файл на stdin и вывести ее stdout в другой файл?  
__Result__: `cat < input_file > output_file`

6 - Получится ли вывести находясь в графическом режиме данные из PTY в какой-либо из эмуляторов TTY? Сможете ли вы наблюдать выводимые данные?  
__Result__: можно напрямую отправить данные в tty `echo hello > /dev/ttyX`, но прочитать это не получается. Не уверен что именно про это вопрос был

7 - Выполните команду bash 5>&1. К чему она приведет? Что будет, если вы выполните echo netology > /proc/$$/fd/5? Почему так происходит?  
__Result__: Команда перенаправит 5 файловый дескриптор в стандартный поток вывода (stdout). Мы запишем `netology` в 5 файловый дескриптор, 
который перенаправляет вывод в стандартный поток вывода и будет видно в консоли.

9 - Получится ли в качестве входного потока для pipe использовать только stderr команды, не потеряв при этом отображение stdout на pty?  
__Result__: Да, получится, например: `cd /root/ 2>&1 | wc`

10 - Что выведет команда `cat /proc/$$/environ`? Как еще можно получить аналогичный по содержанию вывод?  
__Result__: Информацию о переменных окружения, можно просто вызвать `env`

11 - Узнайте, какую наиболее старшую версию набора инструкций SSE поддерживает ваш процессор с помощью `/proc/cpuinfo`  
__Result__: sse4_2 с помощью: `grep sse /proc/cpuinfo`

12 - При открытии нового окна терминала и vagrant ssh создается новая сессия и выделяется pty.
Почему так происходит, и как изменить поведение.  
__Result__: При запуске команд на удаленном компьютере с помощью ssh, TTY не выделяется для удаленного сеанса, поэтому не создается pty.
Как изменить не знаю, но точно можно использовать команду: `ssh -t localhost 'tty`, чтобы обязательно создавать pty.

13 - Бывает, что есть необходимость переместить запущенный процесс из одной сессии в другую. Попробуйте сделать это, воспользовавшись `reptyr`.  
__Result__: Отвязать процесс `disown <PID>`, перейти в другую сессию и выполнить `sudo reptyr -T <PID>`
Но при этом зависает сессию откуда процесс переносится

14 - `sudo echo string > /root/new_file` не даст выполнить перенаправление под обычным пользователем, так как перенаправлением занимается процесс shell'а, который запущен без sudo под вашим пользователем.  
__Result__: Команда `tee` читает из стандартного ввода и записывает как в стандартный вывод или в файл.
`sudo echo` не сработает так как перенаправление потока вывода будет происходить под правами владельца сессии, 
при использовании `sude tee` будут привилегированные права на запись в root каталог и проблемы не будет.
